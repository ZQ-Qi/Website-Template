!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],t):t(window.jQuery,window.loadImage)}(function(t,e){"use strict";t.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),t.widget("blueimp.fileupload",t.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(i,r){if(r.disabled)return i;var n,a,o=i.files[i.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(o.type)&&("number"!==t.type(r.maxFileSize)||o.size<=r.maxFileSize)&&(!r.fileTypes||r.fileTypes.test(o.type))&&(n=e.createObjectURL(o))?(a=this._audioElement.cloneNode(!1),a.src=n,a.controls=!0,i.audio=a,i):i},setAudio:function(t,e){return t.audio&&!e.disabled&&(t.files[t.index][e.name||"preview"]=t.audio),t}}})});