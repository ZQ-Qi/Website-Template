function getEmbedScriptPath(e){for(var t=document.getElementsByTagName("script"),i="",a="",n=0;n<t.length;n++)t[n].src.match(e)&&(i=t[n].src);return""!=i&&(a="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+a}function createStoryJS(e,t){function i(){LoadLib.js(w.js,a)}function a(){b.js=!0,"en"!=w.lang?LazyLoad.js(y.locale,n):b.language=!0,l()}function n(){b.language=!0,l()}function r(){b.css=!0,l()}function s(){b.font.css=!0,l()}function o(){b.font.js=!0,l()}function l(){b.checks>40||(b.checks++,b.js&&b.css&&b.font.css&&b.font.js&&b.language?b.finished||(b.finished=!0,d()):b.timeout=setTimeout("onloaded_check_again();",250))}function c(){var e="storyjs-embed";h=document.createElement("div"),p=""!=w.embed_id?document.getElementById(w.embed_id):document.getElementById("timeline-embed"),p.appendChild(h),h.setAttribute("id",w.id),w.width.toString().match("%")?p.style.width=w.width.split("%")[0]+"%":(w.width=w.width-2,p.style.width=w.width+"px"),w.height.toString().match("%")?(p.style.height=w.height,e+=" full-embed",p.style.height=w.height.split("%")[0]+"%"):w.width.toString().match("%")?(e+=" full-embed",w.height=w.height-16,p.style.height=w.height+"px"):(e+=" sized-embed",w.height=w.height-16,p.style.height=w.height+"px"),p.setAttribute("class",e),p.setAttribute("className",e),h.style.position="relative"}function d(){VMM.debug=w.debug,u=new VMM.Timeline(w.id),u.init(w),g&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var u,h,p,f,g=!1,m="2.24",v="1.7.1",_="",b={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},y={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},w={version:m,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:y.css+"timeline.css?"+m,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},x=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(w[f]=e[f]);if("undefined"!=typeof t&&(w.source=t),"object"==typeof url_config&&(g=!0,w.source.match("docs.google.com")||w.source.match("json")||w.source.match("storify")||(w.source="https://docs.google.com/spreadsheet/pub?key="+w.source+"&output=html")),w.js.match("locale")&&(w.lang=w.js.split("locale/")[1].replace(".js",""),w.js=y.js+"timeline-min.js?"+m),w.js.match("/")||(w.css=y.css+w.type+".css?"+m,w.js=y.js+w.type,w.js+=w.debug?".js?"+m:"-min.js?"+m,w.id="storyjs-"+w.type),y.locale=w.lang.match("/")?w.lang:y.locale+w.lang+".js?"+m,c(),LoadLib.css(w.css,r),"default"==w.font)b.font.js=!0,b.font.css=!0;else{var k;w.font.match("/")?(k=w.font.split(".css")[0].split("/"),y.font.name=k[k.length-1],y.font.css=w.font):(y.font.name=w.font,y.font.css=y.font.css+w.font+".css?"+m),LoadLib.css(y.font.css,s);for(var T=0;T<x.length;T++)y.font.name==x[T].name&&(y.font.google=!0,WebFontConfig={google:{families:x[T].google}});y.font.google?LoadLib.js(y.font.js,o):b.font.js=!0}try{if(b.has_jquery=jQuery,b.has_jquery=!0,b.has_jquery){var _=parseFloat(jQuery.fn.jquery);b.jquery=_<parseFloat(v)?!1:!0}}catch(C){b.jquery=!1}b.jquery?i():LoadLib.js(y.jquery,i),this.onloaded_check_again=function(){l()}}LazyLoad=function(e){function t(t,i){var a,n=e.createElement(t);for(a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);return n}function i(e){var t,i,a=c[e];a&&(t=a.callback,i=a.urls,i.shift(),d=0,i.length||(t&&t.call(a.context,a.obj),c[e]=null,u[e].length&&n(e)))}function a(){var t=navigator.userAgent;o={async:e.createElement("script").async===!0},(o.webkit=/AppleWebKit\//.test(t))||(o.ie=/MSIE/.test(t))||(o.opera=/Opera/.test(t))||(o.gecko=/Gecko\//.test(t))||(o.unknown=!0)}function n(n,d,h,p,f){var g,m,v,_,b,y,w=function(){i(n)},x="css"===n,k=[];if(o||a(),d)if(d="string"==typeof d?[d]:d.concat(),x||o.async||o.gecko||o.opera)u[n].push({urls:d,callback:h,obj:p,context:f});else for(g=0,m=d.length;m>g;++g)u[n].push({urls:[d[g]],callback:g===m-1?h:null,obj:p,context:f});if(!c[n]&&(_=c[n]=u[n].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),b=_.urls,g=0,m=b.length;m>g;++g)y=b[g],x?v=o.gecko?t("style"):t("link",{href:y,rel:"stylesheet"}):(v=t("script",{src:y}),v.async=!1),v.className="lazyload",v.setAttribute("charset","utf-8"),o.ie&&!x?v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&(v.onreadystatechange=null,w())}:x&&(o.gecko||o.webkit)?o.webkit?(_.urls[g]=v.href,s()):(v.innerHTML='@import "'+y+'";',r(v)):v.onload=v.onerror=w,k.push(v);for(g=0,m=k.length;m>g;++g)l.appendChild(k[g])}}function r(e){var t;try{t=!!e.sheet.cssRules}catch(a){return d+=1,200>d?setTimeout(function(){r(e)},50):t&&i("css"),void 0}i("css")}function s(){var e,t=c.css;if(t){for(e=h.length;--e>=0;)if(h[e].href===t.urls[0]){i("css");break}d+=1,t&&(200>d?setTimeout(s,50):i("css"))}}var o,l,c={},d=0,u={css:[],js:[]},h=e.styleSheets;return{css:function(e,t,i,a){n("css",e,t,i,a)},js:function(e,t,i,a){n("js",e,t,i,a)}}}(this.document),LoadLib=function(){function e(e){var i=0,a=!1;for(i=0;i<t.length;i++)t[i]==e&&(a=!0);return a?!0:(t.push(e),!1)}var t=[];return{css:function(t,i,a,n){e(t)||LazyLoad.css(t,i,a,n)},js:function(t,i,a,n){e(t)||LazyLoad.js(t,i,a,n)}}}(this.document);var WebFontConfig;if("undefined"==typeof embed_path||"undefined"==typeof embed_path)var embed_path=getEmbedScriptPath("storyjs-embed.js").split("js/")[0];!function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();