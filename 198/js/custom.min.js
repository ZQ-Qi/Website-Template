$(function() {
    "use strict";


    jQuery(document)
        .on("click", ".mega-menu", function(k) {
            k.stopPropagation();
        });

    //////////////////////////////
    //  Header Fixed
    //////////////////////////////

    $(".header-fix .header")
        .stick_in_parent({}),
        $(".toggle-nav")
        .click(function() {
            $("body")
                .toggleClass("sidebar-show"), $(".toggle-nav i")
                .toggleClass("mdi mdi-menu"),
                $(".toggle-nav i")
                .addClass("mdi mdi-close");
        });




    //////////////////////////////
    //  Active Nav
    //////////////////////////////


    $(function() {
        for (var k = window.location.href.split('?')[0].split('#')[0], o = $("ul#sidebar-menu a")
                .filter(function() {
                    return this.href == k;
                })
                .addClass("active")
                .parent()
                .addClass("active");;) {
            if (!o.is("li")) break;
            o = o.parent()
                .addClass("in")
                .parent()
                .addClass("active");
        }
    });


    //////////////////////////////
    //  Search Box
    //////////////////////////////

    $(".search-box a, .search-box .app-search .srh-btn")
        .on("click", function() {
            $(".app-search")
                .slideToggle(200);
        });


    //////////////////////////////
    //  Mini Sidebar
    //////////////////////////////

    var k = function() {
        (window.innerWidth > 0 ? window.innerWidth : this.screen.width) < 1170 ? ($("body")
            .addClass("sidebar-mini"),
            $(".navbar-brand span")
            .hide(), $(".scroll-sidebar, .slimScroll")
            .css("overflow-x", "visible")
            .parent()
            .css("overflow", "visible"),
            $(".sidebartoggle i")
            .addClass("ti-menu")) : ($("body")
            .removeClass("sidebar-mini"),
            $(".navbar-brand span")
            .show());
        var k = (window.innerHeight > 0 ? window.innerHeight : this.screen.height) - 1;
        (k -= 70) < 1 && (k = 1), k > 70 && $(".page-wrapper")
            .css("min-height", k + "px");
    };


    $(window)
        .ready(k), $(window)
        .on("resize", k), $(".sidebartoggle")
        .on("click", function() {
            $("body")
                .hasClass("sidebar-mini") ? ($("body")
                    .trigger("resize"), $(".scroll-sidebar, .slimScroll")
                    .css("overflow", "hidden")
                    .parent()
                    .css("overflow", "visible"),
                    $("body")
                    .removeClass("sidebar-mini"), $(".navbar-brand span")
                    .show()) : ($("body")
                    .trigger("resize"),
                    $(".scroll-sidebar, .slimScroll")
                    .css("overflow-x", "visible")
                    .parent()
                    .css("overflow", "visible"),
                    $("body")
                    .addClass("sidebar-mini"), $(".navbar-brand span")
                    .hide());
        });




    //////////////////////////////
    //  Sidebar Menu
    //////////////////////////////

    $(function() {
        $("#sidebar-menu")
            .metisMenu();
    });


    //////////////////////////////
    //  Slim Scroll
    //////////////////////////////

    $(".scroll-sidebar")
        .slimScroll({
            position: "left",
            size: "3px",
            height: "100%",
            color: "#F2F4F8"
        });

    $(".header-notify")
        .slimScroll({
            position: "right",
            size: "3px",
            color: "#F2F4F8"
        });


    $(".trade-history-table")
        .slimScroll({
            position: "right",
            size: "3px",
            color: "#999",
            height: "360",
        });


    if ($('#webticker-dark-icons')
        .length) {
        $("#webticker-dark-icons")
            .webTicker({
                height: 'auto',
                duplicate: true,
                startEmpty: false,
                rssfrequency: 5
            });
    }
});