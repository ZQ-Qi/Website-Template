!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],t):t(window.jQuery,window.loadImage)}(function(t,i){"use strict";t.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),t.widget("blueimp.fileupload",t.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(e,a){if(a.disabled)return e;var s,n,r=e.files[e.index];return this._videoElement.canPlayType&&this._videoElement.canPlayType(r.type)&&("number"!==t.type(a.maxFileSize)||r.size<=a.maxFileSize)&&(!a.fileTypes||a.fileTypes.test(r.type))&&(s=i.createObjectURL(r))?(n=this._videoElement.cloneNode(!1),n.src=s,n.controls=!0,e.video=n,e):e},setVideo:function(t,i){return t.video&&!i.disabled&&(t.files[t.index][i.name||"preview"]=t.video),t}}})});