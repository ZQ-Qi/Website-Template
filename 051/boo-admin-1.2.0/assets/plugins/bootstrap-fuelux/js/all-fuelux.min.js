/* ===========================================================================================
 * Fuel UX - v2.1.1 - 2012-11-10
 * https://github.com/ExactTarget/fuelux
 * ---------------------------------------------------------
 *
 * Copyright (c) 2012 ExactTarget
 * Licensed under the MIT license.
 * =========================================================================================== */
!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.combobox.defaults,c);this.$element.on("click","a",b.proxy(this.itemclicked,this));this.$input=this.$element.find("input")};a.prototype={constructor:a,select:function(c){this.$input.val(c).change();return this},itemclicked:function(c){this.select(b(c.target).text());b("body").click();c.preventDefault()}};b.fn.combobox=function(c){return this.each(function(){var f=b(this);var e=f.data("combobox");var d=typeof c==="object"&&c;if(!e){f.data("combobox",(e=new a(this,d)))}if(typeof c==="string"){e[c]()}})};b.fn.combobox.defaults={};b.fn.combobox.Constructor=a;b(function(){b("body").on("mousedown.combobox.data-api",".combobox",function(d){var c=b(this);if(c.data("combobox")){return}c.combobox(c.data())})})}(window.jQuery);!function(b){var a=function(d,c){this.$element=b(d);this.$thead=this.$element.find("thead");this.$footer=this.$element.find("tfoot th");this.$footerchildren=this.$footer.children();this.$topheader=this.$element.find("thead th");this.$searchcontrol=this.$element.find(".search");this.$pagesize=this.$element.find(".grid-pagesize");this.$pageinput=this.$element.find(".grid-pager input");this.$pagedropdown=this.$element.find(".grid-pager .dropdown-menu");this.$prevpagebtn=this.$element.find(".grid-prevpage");this.$nextpagebtn=this.$element.find(".grid-nextpage");this.$pageslabel=this.$element.find(".grid-pages");this.$countlabel=this.$element.find(".grid-count");this.$startlabel=this.$element.find(".grid-start");this.$endlabel=this.$element.find(".grid-end");this.$tbody=b("<tbody>").insertAfter(this.$thead);this.$colheader=b("<tr>").appendTo(this.$thead);this.options=b.extend({},b.fn.datagrid.defaults,c);this.options.dataOptions.pageSize=parseInt(this.$pagesize.val(),10);this.columns=this.options.dataSource.columns();this.$nextpagebtn.on("click",b.proxy(this.next,this));this.$prevpagebtn.on("click",b.proxy(this.previous,this));this.$searchcontrol.on("searched cleared",b.proxy(this.searchChanged,this));this.$colheader.on("click","th",b.proxy(this.headerClicked,this));this.$pagesize.on("change",b.proxy(this.pagesizeChanged,this));this.$pageinput.on("change",b.proxy(this.pageChanged,this));this.renderColumns();this.renderData()};a.prototype={constructor:a,renderColumns:function(){var c=this;this.$footer.attr("colspan",this.columns.length);this.$topheader.attr("colspan",this.columns.length);var d="";b.each(this.columns,function(e,f){d+='<th data-property="'+f.property+'"';if(f.sortable){d+=' class="sortable"'}d+=">"+f.label+"</th>"});c.$colheader.append(d)},updateColumns:function(c,e){var d=(e==="asc")?"icon-chevron-up":"icon-chevron-down";this.$colheader.find("i").remove();this.$colheader.find("th").removeClass("sorted");b("<i>").addClass(d).appendTo(c);c.addClass("sorted")},updatePageDropdown:function(d){var e="";for(var c=1;c<=d.pages;c++){e+="<li><a>"+c+"</a></li>"}this.$pagedropdown.html(e)},updatePageButtons:function(c){if(c.page===1){this.$prevpagebtn.attr("disabled","disabled")}else{this.$prevpagebtn.removeAttr("disabled")}if(c.page===c.pages){this.$nextpagebtn.attr("disabled","disabled")}else{this.$nextpagebtn.removeAttr("disabled")}},renderData:function(){var c=this;this.$tbody.html(this.placeholderRowHTML(this.options.loadingHTML));this.$footerchildren.hide();this.options.dataSource.data(this.options.dataOptions,function(f){var e=(f.count===1)?c.options.itemText:c.options.itemsText;var d="";c.$footerchildren.toggle(f.count>0);c.$pageinput.val(f.page);c.$pageslabel.text(f.pages);c.$countlabel.text(f.count+" "+e);c.$startlabel.text(f.start);c.$endlabel.text(f.end);c.updatePageDropdown(f);c.updatePageButtons(f);b.each(f.data,function(g,h){d+="<tr>";b.each(c.columns,function(i,j){d+="<td>"+h[j.property]+"</td>"});d+="</tr>"});if(!d){d=c.placeholderRowHTML("0 "+c.options.itemsText)}c.$tbody.html(d);c.$element.trigger("loaded")})},placeholderRowHTML:function(c){return'<tr><td style="text-align:center;padding:20px;" colspan="'+this.columns.length+'">'+c+"</td></tr>"},headerClicked:function(h){var c=b(h.target);if(!c.hasClass("sortable")){return}var g=this.options.dataOptions.sortDirection;var d=this.options.dataOptions.sortProperty;var f=c.data("property");if(d===f){this.options.dataOptions.sortDirection=(g==="asc")?"desc":"asc"}else{this.options.dataOptions.sortDirection="asc";this.options.dataOptions.sortProperty=f}this.options.dataOptions.pageIndex=0;this.updateColumns(c,this.options.dataOptions.sortDirection);this.renderData()},pagesizeChanged:function(c){this.options.dataOptions.pageSize=parseInt(b(c.target).val(),10);this.options.dataOptions.pageIndex=0;this.renderData()},pageChanged:function(c){this.options.dataOptions.pageIndex=parseInt(b(c.target).val(),10)-1;this.renderData()},searchChanged:function(d,c){this.options.dataOptions.search=c;this.options.dataOptions.pageIndex=0;this.renderData()},previous:function(){this.options.dataOptions.pageIndex--;this.renderData()},next:function(){this.options.dataOptions.pageIndex++;this.renderData()}};b.fn.datagrid=function(c){return this.each(function(){var f=b(this);var e=f.data("datagrid");var d=typeof c==="object"&&c;if(!e){f.data("datagrid",(e=new a(this,d)))}if(typeof c==="string"){e[c]()}})};b.fn.datagrid.defaults={dataOptions:{pageIndex:0,pageSize:10},loadingHTML:'<div class="progress progress-striped active" style="width:50%;margin:auto;"><div class="bar" style="width:100%;"></div></div>',itemsText:"items",itemText:"item"};b.fn.datagrid.Constructor=a}(window.jQuery);!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.pillbox.defaults,c);this.$element.on("click","li",b.proxy(this.itemclicked,this))};a.prototype={constructor:a,items:function(){return this.$element.find("li").map(function(){var c=b(this);return b.extend({text:c.text()},c.data())}).get()},itemclicked:function(c){b(c.currentTarget).remove();c.preventDefault()}};b.fn.pillbox=function(d){var e;var c=this.each(function(){var h=b(this);var g=h.data("pillbox");var f=typeof d==="object"&&d;if(!g){h.data("pillbox",(g=new a(this,f)))}if(typeof d==="string"){e=g[d]()}});return(e===undefined)?c:e};b.fn.pillbox.defaults={};b.fn.pillbox.Constructor=a;b(function(){b("body").on("mousedown.pillbox.data-api",".pillbox",function(d){var c=b(this);if(c.data("pillbox")){return}c.pillbox(c.data())})})}(window.jQuery);!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.search.defaults,c);this.$element.find("button").on("click",b.proxy(this.buttonclicked,this));this.$input=this.$element.find("input").on("keydown",b.proxy(this.keypress,this));this.$input=this.$element.find("input").on("keyup",b.proxy(this.keypressed,this));this.$icon=this.$element.find("i");this.activeSearch=""};a.prototype={constructor:a,search:function(c){this.$icon.attr("class","fontello-icon-cancel-1");this.activeSearch=c;this.$element.trigger("searched",c)},clear:function(){this.$icon.attr("class","icon-search");this.activeSearch="";this.$input.val("");this.$element.trigger("cleared")},action:function(){var d=this.$input.val();var c=d===""||d===this.activeSearch;if(this.activeSearch&&c){this.clear()}else{if(d){this.search(d)}}},buttonclicked:function(c){c.preventDefault();if(b(c.currentTarget).is(".disabled, :disabled")){return}this.action()},keypress:function(c){if(c.which===13){c.preventDefault()}},keypressed:function(d){var f,c;if(d.which===13){d.preventDefault();this.action()}else{f=this.$input.val();c=f&&(f===this.activeSearch);this.$icon.attr("class",c?"fontello-icon-cancel-1":"icon-search")}}};b.fn.search=function(c){return this.each(function(){var f=b(this);var e=f.data("search");var d=typeof c==="object"&&c;if(!e){f.data("search",(e=new a(this,d)))}if(typeof c==="string"){e[c]()}})};b.fn.search.defaults={};b.fn.search.Constructor=a;b(function(){b("body").on("mousedown.search.data-api",".search",function(){var c=b(this);if(c.data("search")){return}c.search(c.data())})})}(window.jQuery);!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.spinner.defaults,c);this.$input=this.$element.find(".spinner-input");this.$element.on("keyup",this.$input,b.proxy(this.change,this));if(this.options.hold){this.$element.on("mousedown",".spinner-up",b.proxy(function(){this.startSpin(true)},this));this.$element.on("mouseup",".spinner-up, .spinner-down",b.proxy(this.stopSpin,this));this.$element.on("mouseout",".spinner-up, .spinner-down",b.proxy(this.stopSpin,this));this.$element.on("mousedown",".spinner-down",b.proxy(function(){this.startSpin(false)},this))}else{this.$element.on("click",".spinner-up",b.proxy(function(){this.step(true)},this));this.$element.on("click",".spinner-down",b.proxy(function(){this.step(false)},this))}this.switches={count:1,enabled:true};if(this.options.speed==="medium"){this.switches.speed=300}else{if(this.options.speed==="fast"){this.switches.speed=100}else{this.switches.speed=500}}this.render();if(this.options.disabled){this.disable()}};a.prototype={constructor:a,render:function(){this.$input.val(this.options.value);this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var c=this.$input.val();if(c/1){this.options.value=c/1}else{c=c.replace(/[^0-9]/g,"");this.$input.val(c);this.options.value=c/1}this.$element.trigger("change")},stopSpin:function(){clearTimeout(this.switches.timeout);this.switches.count=1;this.$element.trigger("change")},startSpin:function(c){if(!this.options.disabled){var d=this.switches.count;if(d===1){this.step(c);d=1}else{if(d<3){d=1.5}else{if(d<8){d=2.5}else{d=4}}}this.switches.timeout=setTimeout(b.proxy(function(){this.iterator(c)},this),this.switches.speed/d);this.switches.count++}},iterator:function(c){this.step(c);this.startSpin(c)},step:function(d){var f=this.options.value;var e=d?this.options.max:this.options.min;if((d?f<e:f>e)){var c=f+(d?1:-1)*this.options.step;if(d?c>e:c<e){this.value(e)}else{this.value(c)}}},value:function(c){if(typeof c!=="undefined"){this.options.value=c;this.$input.val(c);return this}else{return this.options.value}},disable:function(){this.options.disabled=true;this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=false;this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")}};b.fn.spinner=function(d,f){var e;var c=this.each(function(){var i=b(this);var h=i.data("spinner");var g=typeof d==="object"&&d;if(!h){i.data("spinner",(h=new a(this,g)))}if(typeof d==="string"){e=h[d](f)}});return(e===undefined)?c:e};b.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:true,speed:"medium",disabled:false};b.fn.spinner.Constructor=a;b(function(){b("body").on("mousedown.spinner.data-api",".spinner",function(d){var c=b(this);if(c.data(".spinner")){return}c.spinner(c.data())})})}(window.jQuery);